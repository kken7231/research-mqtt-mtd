services:
  broker:
    build:
      context: .
      dockerfile: Dockerfile.broker
    privileged: true
    hostname: broker
    tty: true
    restart: no
    networks:
      - net

  client:
    build:
      context: .
      dockerfile: Dockerfile.client
    hostname: client
    tty: true
    restart: no
    networks:
      - net

  # client2:
  #   build:
  #     context: .
  #     dockerfile: Dockerfile.client
  #   hostname: client2
  #   tty: true
  #   networks:
  #     - net

  # client3:
  #   build:
  #     context: .
  #     dockerfile: Dockerfile.client
  #   hostname: client3
  #   tty: true
  #   networks:
  #     - net

  # client4:
  #   build:
  #     context: .
  #     dockerfile: Dockerfile.client
  #   hostname: client4
  #   tty: true
  #   networks:
  #     - net

  # client5:
  #   build:
  #     context: .
  #     dockerfile: Dockerfile.client
  #   hostname: client5
  #   tty: true
  #   networks:
  #     - net


networks:
  net:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 10.0.0.0/24
